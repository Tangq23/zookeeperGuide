#### zookeeper基本数据类型

* zookeeper是一个树形结构,类似于前端开发中的 tree.js 组件;

  ![image.png](https://upload-images.jianshu.io/upload_images/15181329-4e9ed23f9c1ee2fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



* zk的数据模型也可以理解为 linux/unix 的文件目录:/usr/local

* 每一个节点都称之为 znode,它可以有子节点,也可以有数据

  > 子节点: 就是父目录下的一个子目录,在 zk中称之为节点,每一个节点中都有一些相应的数据,就像目录下有一些文件数据一样

* 每个节点分为临时节点和永久节点,临时节点在客户端断开后消失

  > 永久节点：其实就是一个持久化的过程，我们存了一些数据，只有人为的情况在才会删除	如是session超时或者是session丢失，数据还是会一直存在的。临时节点生命周期依赖创建它的会话，一旦会话结束，临时节点将会被删除。临时节点不允许有子节点。

* 每个zk节点都是有各自的版本号，可以通过命令行来显示节点信息；

  > 节点的信息其实就是节点的详情，详情中包含了一些版本号，版本号是累加的，每当节点中的数据发生变化，版本号就会累加（乐观锁）

* 删除/修改过时节点，版本号不匹配则会报错

  > 例如我们在查询某一个节点的时候，比如说它的节点是1，经过两个人进行删除或者修改之后，那么它的节点会由1变为2，在变为3，此时我们需要去修改或者删除这个节点，那么删除这个节点的时候，我们传入的版本号是一个老的版本号，那么这个时候就会报一个版本号不匹配的异常，这也是在数据库中是使用乐观锁的一种表现

* 每一个zk节点存储的数据不宜过大，几k即可(官方推荐)；

* 节点是可以设置权限acl ,可以通过权限来限定用户的访问

  > acl:权限控制列表，后续会讲到；

https://www.jianshu.com/p/2e970fe35c3f>

